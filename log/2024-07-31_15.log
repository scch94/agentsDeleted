[2024-07-31 15:14:43.926] [Gconfiguration] [] [info] [] ending to get the configuration
[2024-07-31 15:14:43.926] [Gconfiguration] [] [trace] [] this is the data that we have in the configuration {"log_level":"trace","log_name":"agentsDeleted_","database_connection_string":"postgres://xxepin:migracion@digicel-dev-flex.postgres.database.azure.com:5432/xxepin?sslmode=require","tenant":18,"ubication_agents_file":"../utils/agents.txt","database_engine":"oraclesql"}
[2024-07-31 15:15:03.145] [agentsdeleter] [databaseConnection] [info] [] connected to oracle database
[2024-07-31 15:15:03.145] [agentsdeleter] [fileReader] [info] [] starting to get the agents  ubication of the file is ../utils/agents.txt
[2024-07-31 15:15:03.149] [agentsdeleter] [main] [info] [] number of agents are 1
[2024-07-31 15:15:03.149] [agentsdeleter] [controller] [info] [] starting to create the script to delete agents_mobile
[2024-07-31 15:15:03.149] [agentsdeleter] [controller] [trace] [] starting to get agents_msisdn info
[2024-07-31 15:15:03.150] [agentsdeleter] [controller] [trace] [] this is the database engine oraclesql
[2024-07-31 15:15:03.150] [agentsdeleter] [database] [trace] [] starting to get the msisdn por the agent with id :0
[2024-07-31 15:15:03.150] [agentsdeleter] [database] [trace] [] this is the QUERY: SELECT AM.OID, A.OID, MSISDN, ACC.CREDIT FROM agent A FULL JOIN agent_mobile AM ON AM.AGENT_OID=A.OID FULL JOIN account ACC ON ACC.AGENT_OID = A.OID WHERE A.AGENT_ID=:1 AND A.TENANT_OID=:2 and the params: agentID=0, and tenant_oid=18
[2024-07-31 15:15:04.338] [agentsdeleter] [database] [info] [] the query in the database tooks: 1.1878673s
[2024-07-31 15:15:04.339] [agentsdeleter] [controller] [trace] [] the agent with id 0 has 4 moviles
[2024-07-31 15:15:04.340] [agentsdeleter] [queryBuilder] [info] [] Iniciando la creación de una consulta para eliminar datos de la tabla agent_mobile_pin
[2024-07-31 15:15:04.340] [agentsdeleter] [fileWriter] [info] [] starting to write in the file ../scripts/agent_mobile_scripts.txt
[2024-07-31 15:15:04.341] [agentsdeleter] [fileWriter] [trace] [] end to wrtite in a file: 
[2024-07-31 15:15:04.342] [agentsdeleter] [controller] [info] [] query to delete agent mobile pin was created and writed
[2024-07-31 15:15:04.342] [agentsdeleter] [queryBuilder] [info] [] Iniciando la creación de una consulta para eliminar datos de la tabla agent_mobile
[2024-07-31 15:15:04.342] [agentsdeleter] [fileWriter] [info] [] starting to write in the file ../scripts/agent_mobile_scripts.txt
[2024-07-31 15:15:04.343] [agentsdeleter] [fileWriter] [trace] [] end to wrtite in a file: 
[2024-07-31 15:15:04.344] [agentsdeleter] [controller] [info] [] query to delete agent mobile was created and writed
[2024-07-31 15:15:04.344] [agentsdeleter] [controller] [info] [] starting to create the script to delete Users vinculated to the agents in the list
[2024-07-31 15:15:04.344] [agentsdeleter] [controller] [trace] [] starting to get users
[2024-07-31 15:15:04.345] [agentsdeleter] [database] [trace] [] starting to get the Users por the agent with oid :
[2024-07-31 15:15:04.345] [agentsdeleter] [database] [trace] [] this is the QUERY: SELECT ua.oid, ua.user_id, cu.client_oid FROM user_adm ua FULL JOIN client_user cu ON ua.oid = cu.user_oid WHERE cu.client_oid = :1 AND cu.tenant_oid= :2 and the params: agentID=, and tenant_oid=18
[2024-07-31 15:15:06.770] [agentsdeleter] [database] [info] [] the query in the database tooks: 2.424954s
[2024-07-31 15:15:06.771] [agentsdeleter] [controller] [trace] [] the agent with id 0 has 0 users
[2024-07-31 15:15:06.771] [agentsdeleter] [controller] [info] [] No users to delete
[2024-07-31 15:15:06.771] [agentsdeleter] [controller] [info] [] starting to create the script to delete agents 
[2024-07-31 15:15:06.771] [agentsdeleter] [controller] [trace] [] checking if the agents have a credit different than 0
[2024-07-31 15:15:06.771] [agentsdeleter] [controller] [info] [] check credit accounts finish
[2024-07-31 15:15:06.771] [agentsdeleter] [controller] [trace] [] checking if the agents are parents
[2024-07-31 15:15:06.772] [agentsdeleter] [database] [trace] [] starting to check if the Agent with id 0 is a parent
[2024-07-31 15:15:06.772] [agentsdeleter] [database] [trace] [] this is the QUERY: SELECT * FROM agent WHERE parent_oid = :1 AND tenant_oid = :2 AND ROWNUM = 1 and the params: agentID=, and tenant_oid=18
[2024-07-31 15:15:10.736] [agentsdeleter] [database] [info] [] Agent  is not a parent and can be deleted
[2024-07-31 15:15:10.737] [agentsdeleter] [database] [info] [] the query in the database tooks: 3.9649246s
[2024-07-31 15:15:10.737] [agentsdeleter] [controller] [info] [] check if the agents are parents finish
[2024-07-31 15:15:10.737] [agentsdeleter] [queryBuilder] [info] [] starting to create the querys to delete agents
[2024-07-31 15:15:10.737] [agentsdeleter] [controller] [info] [] querys To Delete Agent was created
[2024-07-31 15:15:10.737] [agentsdeleter] [fileWriter] [info] [] starting to write in the file ../scripts/agent_scripts.txt
[2024-07-31 15:15:10.739] [agentsdeleter] [fileWriter] [trace] [] end to wrtite in a file: 
[2024-07-31 15:15:10.740] [agentsdeleter] [fileWriter] [info] [] starting to write in the file ../scripts/agent_scripts.txt
[2024-07-31 15:15:10.741] [agentsdeleter] [fileWriter] [trace] [] end to wrtite in a file: 
[2024-07-31 15:15:10.741] [agentsdeleter] [fileWriter] [info] [] starting to write in the file ../scripts/agent_scripts.txt
[2024-07-31 15:15:10.742] [agentsdeleter] [fileWriter] [trace] [] end to wrtite in a file: 
[2024-07-31 15:15:10.743] [agentsdeleter] [fileWriter] [info] [] starting to write in the file ../scripts/agent_scripts.txt
[2024-07-31 15:15:10.744] [agentsdeleter] [fileWriter] [trace] [] end to wrtite in a file: 
[2024-07-31 15:15:10.744] [agentsdeleter] [fileWriter] [info] [] starting to write in the file ../scripts/agent_scripts.txt
[2024-07-31 15:15:10.745] [agentsdeleter] [fileWriter] [trace] [] end to wrtite in a file: 
[2024-07-31 15:15:10.746] [agentsdeleter] [fileWriter] [info] [] starting to write in the file ../scripts/agent_scripts.txt
[2024-07-31 15:15:10.747] [agentsdeleter] [fileWriter] [trace] [] end to wrtite in a file: 
[2024-07-31 15:15:10.747] [agentsdeleter] [fileWriter] [info] [] starting to write in the file ../scripts/agent_scripts.txt
[2024-07-31 15:15:10.748] [agentsdeleter] [fileWriter] [trace] [] end to wrtite in a file: 
[2024-07-31 15:15:10.748] [agentsdeleter] [fileWriter] [info] [] starting to write in the file ../scripts/agent_scripts.txt
[2024-07-31 15:15:10.749] [agentsdeleter] [fileWriter] [trace] [] end to wrtite in a file: 
[2024-07-31 15:15:10.749] [agentsdeleter] [fileWriter] [info] [] starting to write in the file ../scripts/agent_scripts.txt
[2024-07-31 15:15:10.750] [agentsdeleter] [fileWriter] [trace] [] end to wrtite in a file: 
[2024-07-31 15:15:10.750] [agentsdeleter] [controller] [info] [] agent script was created
[2024-07-31 15:15:10.750] [agentsdeleter] [fileWriter] [info] [] starting to write in the file ../utils/conclusions.txt
[2024-07-31 15:15:10.751] [agentsdeleter] [fileWriter] [trace] [] end to wrtite in a file: 
[2024-07-31 15:15:10.752] [agentsdeleter] [controller] [info] [] conclusion file was created 
[2024-07-31 15:15:10.752] [agentsdeleter] [main] [info] [] el tiempo que se demoro el proceso fue 7.6066958s
